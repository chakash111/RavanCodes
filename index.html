<!DOCTYPE html>
<html>
<head>
  <title>Ravan Code Lab</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ðŸ’» Ravan Code Lab</h1>

<div class="toolbar">
  <button onclick="addCode('<h1>Heading</h1>')">H1</button>
  <button onclick="addCode('<button>Click</button>')">Button</button>
  <button onclick="addCode('<p>Paragraph</p>')">Text</button>
  <button onclick="runCode()">â–¶ Run</button>
  <button onclick="clearCode()">ðŸ—‘ Clear</button>
</div>

<textarea id="codeArea" placeholder="Yaha code likho..."></textarea>

<iframe id="preview"></iframe>

<script>
let codeArea = document.getElementById("codeArea");

/* AUTO SAVE */
codeArea.value = localStorage.getItem("savedCode") || "";

codeArea.addEventListener("input", () => {
  localStorage.setItem("savedCode", codeArea.value);
});

/* ADD QUICK CODE */
function addCode(text){
  codeArea.value += "\n" + text;
  localStorage.setItem("savedCode", codeArea.value);
}

/* RUN CODE */
function runCode(){
  let preview = document.getElementById("preview").contentWindow.document;
  preview.open();
  preview.write(codeArea.value);
  preview.close();
}

/* CLEAR */
function clearCode(){
  codeArea.value = "";
  localStorage.removeItem("savedCode");
}

/* AUTO RUN on load */
runCode();
</script>

</body>
</html>
