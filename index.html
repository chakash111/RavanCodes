<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Ravan Code Lab Mini Task</title>

<style>
body{
  margin:0;
  padding:10px;
  background:#0d0d0d;
  color:white;
  font-family:Arial, sans-serif;
}
textarea{ width:100%; height:120px; margin-bottom:10px; border-radius:10px; background:#1a1a1a; color:#00ff88; padding:10px; font-family:monospace; font-size:15px; }
iframe{ width:100%; height:300px; border:none; border-radius:10px; margin-top:10px; }
button{ padding:6px 10px; margin:3px; border:none; border-radius:6px; background:#222; color:white; font-weight:bold; font-size:13px; }
.toolbar button{ background:#ff0057; }
.symbol-bar{ display:flex; flex-wrap:wrap; gap:5px; padding:5px; background:#111; border-radius:8px; margin-bottom:10px; }
.symbol-bar button{ background:#333; }
.css-tools{ display:flex; flex-wrap:wrap; gap:5px; margin-bottom:10px; }
</style>
</head>
<body>

<h1>ðŸ’» Ravan Mini Task</h1>

<div class="toolbar">
  <button onclick="runCode()">â–¶ Run</button>
  <button onclick="clearAll()">ðŸ—‘ Clear</button>
  <button onclick="applyMiniTask()">ðŸ’¥ Apply Mini Task</button>
</div>

<h3>HTML Symbols</h3>
<div class="symbol-bar">
  <button onclick="insertHTML('<')">&lt;</button>
  <button onclick="insertHTML('>')">&gt;</button>
  <button onclick="insertHTML('/')">/</button>
  <button onclick="insertHTML('=')">=</button>
  <button onclick="insertHTML('\"')">"</button>
  <button onclick="insertHTML('\'')">'</button>
  <button onclick="insertHTML('{')">{</button>
  <button onclick="insertHTML('}')">}</button>
  <button onclick="insertHTML('(')">(</button>
  <button onclick="insertHTML(')')">)</button>
  <button onclick="insertHTML(';')">;</button>
  <button onclick="insertHTML(':')">:</button>
  <button onclick="insertHTML('!')">!</button>
  <button onclick="insertHTML(',')">,</button>
  <button onclick="insertHTML('.')">.</button>
</div>

<h3>HTML</h3>
<textarea id="htmlCode" placeholder="Write HTML here..."></textarea>

<h3>CSS</h3>
<textarea id="cssCode" placeholder="Write CSS here..."></textarea>

<iframe id="preview"></iframe>

<script>
let htmlBox = document.getElementById("htmlCode");
let cssBox = document.getElementById("cssCode");

/* Load from localStorage */
htmlBox.value = localStorage.getItem("htmlData") || "";
cssBox.value = localStorage.getItem("cssData") || "";

/* Save on input */
htmlBox.addEventListener("input", ()=>{ localStorage.setItem("htmlData", htmlBox.value); });
cssBox.addEventListener("input", ()=>{ localStorage.setItem("cssData", cssBox.value); });

/* Insert HTML symbol */
function insertHTML(sym){
  let start = htmlBox.selectionStart;
  let end = htmlBox.selectionEnd;
  let text = htmlBox.value;
  htmlBox.value = text.substring(0,start) + sym + text.substring(end);
  htmlBox.focus();
  htmlBox.selectionStart = htmlBox.selectionEnd = start + sym.length;
  localStorage.setItem("htmlData", htmlBox.value);
}

/* Add CSS + instant run */
function addCSS(text){
  cssBox.value += "\n" + text;
  localStorage.setItem("cssData", cssBox.value);
  runCode();
}

/* Run Code */
function runCode(){
  let finalCode = "<style>" + cssBox.value + "</style>" + htmlBox.value;
  document.getElementById("preview").srcdoc = finalCode;
}

/* Clear all */
function clearAll(){
  htmlBox.value = "";
  cssBox.value = "";
  localStorage.clear();
  runCode();
}

/* Mini Task Apply */
function applyMiniTask(){
  htmlBox.value = `
<div>
  <h1>Header Section</h1>
</div>

<div>
  <h2>About Me</h2>
  <p>Main coding seekh raha hu ðŸ”¥</p>
</div>

<div>
  <button>Contact Me</button>
</div>
  `;

  cssBox.value = `
/* Header */
div:nth-child(1){
  background:black;
  color:white;
  text-align:center;
  padding:20px;
  box-shadow:0 0 15px black;
}

/* About */
div:nth-child(2){
  background:purple;
  color:green;
  padding:10px;
  margin:10px 0;
}

/* Contact */
div:nth-child(3){
  background:yellow;
  color:blue;
  text-align:center;
  padding:10px;
  border:2px solid red;
  border-radius:10px;
  box-shadow:0 0 10px black;
}
  `;
  runCode();
}

runCode();
</script>

</body>
</html>
